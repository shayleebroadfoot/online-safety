<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phishing & Scams</title>
    <link rel="stylesheet" href="../../css/module-style.css">
    <script src="../../js/phishing.js" defer></script>
</head>
<body class="phishing-module">
    <header>
        <h1>Phishing Awareness Module</h1>
    </header>
    
    <!-- Navigation Bar -->
    <nav>
        <ul class="tabs">
            <li><a href="../../index.html">Home</a></li>
            <li><a href="index.html" class="active">Phishing & Scams</a></li>
            <li><a href="../harassment/index.html">Hate & Harassment</a></li>
            <li><a href="../../resources.html">Resources</a></li>
        </ul>
    </nav>
    
    <main>
        <!-- Progress Bar -->
        <div id="progress-bar-container">
            <div id="progress-bar"></div>
        </div>

        <!-- Pre-Quiz Section -->
        <section id="pre-quiz">
            <div class="pre-quiz-header">
                <h2>Pre-Quiz: Test Your Knowledge</h2> 
                <button id="reset-quiz-btn" onclick="resetQuiz()">
                    <img src="../../assets/icons/reset.svg" alt="Reset Quiz">
                </button>
            </div>
            <p>Before learning more about phishing, take a quick quiz to see how well you can recognize phishing attempts.</p>
            <button id="pre-quiz-btn" onclick="navigateTo('pre-quiz.html')">Start Pre-Quiz</button>
        </section>
        
        <section id="intro">
            <h2>Understanding Phishing</h2>
            <p>Phishing is a cybercrime in which attackers impersonate legitimate entities to trick individuals into revealing sensitive information, such as passwords and financial details. Phishing is one of the most common cybersecurity threats today.</p>
            <p>According to the <a href="https://www.cisa.gov/topics/cyber-threats-and-advisories/phishing" target="_blank">Cybersecurity & Infrastructure Security Agency (CISA)</a>, phishing attempts have increased by over 65% in the last few years.</p>
        </section>
        
        <section id="email-phishing">
            <h2>Email Phishing: What to Watch For</h2>
            <p>Email phishing is the most common type of phishing attack. Cybercriminals send fraudulent emails that appear to be from trusted sources to trick recipients into clicking malicious links or downloading malware.</p>
            <ul>
                <li><strong>Suspicious Sender Address:</strong> Attackers often use fake email addresses that resemble official ones.</li>
                <li><strong>Urgent or Threatening Language:</strong> Emails may create panic to rush victims into action.</li>
                <li><strong>Links and Attachments:</strong> These often contain malware or direct users to fake websites.</li>
            </ul>
            <!-- <img src="../../assets/images/phishing/email-example.png" alt="Phishing Email Example"> -->
        </section>
        
        <section id="smishing-vishing">
            <h2>Other Types of Phishing: Smishing & Vishing</h2>
            <div class="phishing-types">
                <div class="type">
                    <h3>Smishing (SMS Phishing)</h3>
                    <p>Attackers send fraudulent text messages pretending to be from banks, delivery companies, or government agencies.</p>
                    <!-- <img src="../../assets/images/phishing/smishing-example.png" alt="Smishing Example"> -->
                </div>
                <div class="type">
                    <h3>Vishing (Voice Phishing)</h3>
                    <p>Scammers use phone calls to impersonate trusted entities and steal sensitive information.</p>
                    <!-- <img src="../../assets/images/phishing/vishing-example.png" alt="Vishing Example"> -->
                </div>
            </div>
        </section>
        
        <section id="preventing-phishing">
            <h2>How to Protect Yourself</h2>
            <ul>
                <li><strong>Verify Email Senders:</strong> Always double-check the sender’s address before clicking on links.</li>
                <li><strong>Hover Over Links:</strong> Inspect links before clicking to ensure they lead to legitimate websites.</li>
                <li><strong>Use Multi-Factor Authentication:</strong> This adds an extra layer of security in case your credentials are compromised.</li>
                <li><strong>Report Suspicious Emails:</strong> If you receive a phishing email, report it to your IT team or email provider.</li>
            </ul>
        </section>

        <!-- Post-Quiz Section -->
        <section id="post-quiz">
            <h2>Post-Quiz: Assess Your Learning</h2>
            <p>Now that you've completed the phishing awareness module, test your knowledge again.</p>
            <button onclick="navigateTo('post-quiz.html')">Take the Post-Quiz</button>
        </section>
    </main>

    <script> 
        document.addEventListener("DOMContentLoaded", function () {
            console.log("Phishing Module Loaded");
            initializeModule();
        });

        function initializeModule() {
            console.log("Initializing module...");

            const steps = document.querySelectorAll('.step');
            const progressBar = document.getElementById('progress-bar');
            const preQuizButton = document.getElementById('pre-quiz-btn');

            // Ensure pre-quiz button exists before modifying it
            if (preQuizButton) {
                if (localStorage.getItem('preQuizComplete') === 'true') {
                    preQuizButton.disabled = true;
                    preQuizButton.innerText = "Completed ✅";
                }
            } else {
                console.warn("pre-quiz-btn not found in DOM.");
            }

            // Ensure progress bar exists before modifying it
            if (progressBar) {
                let progress = localStorage.getItem('preQuizComplete') === 'true' ? 50 : 0;
                progressBar.style.width = `${progress}%`;
            } else {
                console.warn("progress-bar not found in DOM.");
            }

            // Unlock full module if pre-quiz is completed
            if (localStorage.getItem('preQuizComplete') === 'true') {
                steps.forEach(step => {
                    step.style.opacity = 1;
                    step.style.pointerEvents = 'auto';
                });
            } else {
                steps.forEach((step, index) => {
                    if (index === 0) {
                        step.style.opacity = 1;
                        step.style.pointerEvents = 'auto';
                    } else {
                        step.style.opacity = 0.5;
                        step.style.pointerEvents = 'none';
                    }
                });
            }
        }
    </script>
</body>

</html>